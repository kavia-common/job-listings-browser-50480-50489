{"is_source_file": true, "format": "JavaScript", "description": "This file contains utility functions for managing a team and its members in a client-side application, primarily using localStorage for persistence. It includes functions to add, remove, update members, manage the active member, and relate jobs to the current team.", "external_files": ["./storage"], "external_methods": ["getItem", "setItem", "removeItem"], "published": ["getTeam", "listMembers", "addMember", "removeMember", "updateMember", "setActiveMember", "getActiveMember", "isTeamMember", "ensureTeamIdOnJob", "jobOwnedByTeam", "assignJobToTeam"], "classes": [], "methods": [{"name": "getTeam()", "description": "Fetches the current team object from localStorage, returning null if absent.", "scope": "", "scopeKind": ""}, {"name": "listMembers()", "description": "Returns a list of current team members, or an empty list if no team exists.", "scope": "", "scopeKind": ""}, {"name": "addMember({ name, email, role = 'Member' })", "description": "Adds a new member to the current team, initializing a team if necessary. Ensures email uniqueness and sets the member as active if none is active.", "scope": "", "scopeKind": ""}, {"name": "removeMember(id)", "description": "Removes a member by id; if the removed member was active, reassigns or clears active status accordingly.", "scope": "", "scopeKind": ""}, {"name": "updateMember(id, patch)", "description": "Updates specified fields of a team member by id, enforcing role constraints.", "scope": "", "scopeKind": ""}, {"name": "setActiveMember(id)", "description": "Sets the specified member id as active member, ensuring it belongs to the current team.", "scope": "", "scopeKind": ""}, {"name": "getActiveMember()", "description": "Retrieves the current active member object or null if none is set.", "scope": "", "scopeKind": ""}, {"name": "isTeamMember(emailOrId)", "description": "Checks whether a given email or id matches a member of the current team.", "scope": "", "scopeKind": ""}, {"name": "ensureTeamIdOnJob(job)", "description": "Returns a copy of a job object including the teamId if a team exists and it's not already set.", "scope": "", "scopeKind": ""}, {"name": "jobOwnedByTeam(job)", "description": "Determines if a job is owned by the current team based on teamId.", "scope": "", "scopeKind": ""}, {"name": "assignJobToTeam(jobId)", "description": "Returns the current teamId, indicating the job has been assigned to this team.", "scope": "", "scopeKind": ""}], "calls": ["getItem('hr_team')", "setItem('hr_team', team)", "removeItem('hr_team')", "getItem('hr_team_active_member')", "setItem('hr_team_active_member', id)"], "search-terms": ["localStorage team management", "team member functions", "client-side team utilities", "hr_team storage key", "active team member"], "state": 2, "file_id": 40, "knowledge_revision": 146, "git_revision": "", "revision_history": [{"135": ""}, {"144": ""}, {"146": ""}], "ctags": [{"_type": "tag", "name": "addMember", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function addMember({ name, email, role = 'Member' }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ name, email, role = 'Member' })"}, {"_type": "tag", "name": "assignJobToTeam", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function assignJobToTeam(jobId) {$/", "language": "JavaScript", "kind": "function", "signature": "(jobId)"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^      createdAt: Date.now(),$/", "language": "JavaScript", "kind": "property", "scope": "addMember.team", "scopeKind": "class"}, {"_type": "tag", "name": "ensureTeamIdOnJob", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function ensureTeamIdOnJob(job) {$/", "language": "JavaScript", "kind": "function", "signature": "(job)"}, {"_type": "tag", "name": "getActiveMember", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function getActiveMember() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getTeam", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function getTeam() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^      id: `team_${Math.random().toString(36).slice(2, 10)}`,$/", "language": "JavaScript", "kind": "property", "scope": "addMember.team", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^    id: `m_${Math.random().toString(36).slice(2, 10)}`,$/", "language": "JavaScript", "kind": "property", "scope": "addMember.member", "scopeKind": "class"}, {"_type": "tag", "name": "isTeamMember", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function isTeamMember(emailOrId) {$/", "language": "JavaScript", "kind": "function", "signature": "(emailOrId)"}, {"_type": "tag", "name": "jobOwnedByTeam", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function jobOwnedByTeam(job) {$/", "language": "JavaScript", "kind": "function", "signature": "(job)"}, {"_type": "tag", "name": "listMembers", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function listMembers() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "member", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^  const member = {$/", "language": "JavaScript", "kind": "class", "scope": "addMember", "scopeKind": "class"}, {"_type": "tag", "name": "members", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^      members: [],$/", "language": "JavaScript", "kind": "property", "scope": "addMember.team", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^    name,$/", "language": "JavaScript", "kind": "field", "scope": "addMember.member", "scopeKind": "class"}, {"_type": "tag", "name": "removeMember", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function removeMember(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "setActiveMember", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function setActiveMember(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "team", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^    team = {$/", "language": "JavaScript", "kind": "class", "scope": "addMember", "scopeKind": "class"}, {"_type": "tag", "name": "updateMember", "path": "/home/kavia/workspace/code-generation/job-listings-browser-50480-50489/job_board_frontend/src/utils/team.js", "pattern": "/^export function updateMember(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}], "hash": "4413a982fb9ddfac2f7a27c191e230cd", "format-version": 4, "code-base-name": "job_board_frontend", "filename": "job_board_frontend/src/utils/team.js", "fields": [{"name": "createdAt: Date.now(),", "scope": "addMember.team", "scopeKind": "class", "description": "unavailable"}, {"name": "id: `team_${Math.random().toString(36).slice(2, 10)}`,", "scope": "addMember.team", "scopeKind": "class", "description": "unavailable"}, {"name": "id: `m_${Math.random().toString(36).slice(2, 10)}`,", "scope": "addMember.member", "scopeKind": "class", "description": "unavailable"}, {"name": "members: [],", "scope": "addMember.team", "scopeKind": "class", "description": "unavailable"}, {"name": "name,", "scope": "addMember.member", "scopeKind": "class", "description": "unavailable"}]}